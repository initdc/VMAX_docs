<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rendering an Animation with Moving Objects - V-Ray 2.0 for 3ds Max</title>

    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>


<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="917507">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">VRAY</span>
                    <img class="space-logo" src="spacelogo.png" />
                </h1>
                <a href="V-Ray_2.0_for_3ds_Max.html" class="ht-space-link">
                    <h2>V-Ray 2.0 for 3ds Max</h2>
                </a>
            </header>

            <nav class="ht-pages-nav">
                <ul class="ht-pages-nav-top">
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Getting_Started.html">Getting Started</a>

            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Licensing.html">Licensing</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EULA.html">EULA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="License_Server_Agreement.html">License Server Agreement</a>

            </li>
                            </ul>
            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Credits.html">Credits</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Migrating_from_V-Ray_1.5_to_V-Ray_2.0.html">Migrating from V-Ray 1.5 to V-Ray 2.0</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Features.html">Features</a>

            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Installation.html">Installation</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Installation_Troubleshooting.html">Installation Troubleshooting</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Silent_Install_and_Uninstall.html">Silent Install and Uninstall</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Uninstall_V-Ray.html">Uninstall V-Ray</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="V-Ray_Configuration.html">V-Ray Configuration</a>

            </li>
                            </ul>
            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Licensing_System.html">Licensing System</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Troubleshooting.html">Troubleshooting</a>

            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="V-Ray_and_3ds_Max.html">V-Ray and 3ds Max</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="MaxScript.html">MaxScript</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Texture_Baking.html">Texture Baking</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Unsupported_3ds_Max_Features.html">Unsupported 3ds Max Features</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Render_Elements.html">Render Elements</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="G-Buffer_Support.html">G-Buffer Support</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Hair_&amp;_Fur.html">Hair &amp; Fur</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="V-Ray_RT.html">V-Ray RT</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="V-Ray_RT_FAQ.html">V-Ray RT FAQ</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Plugins.html">Plugins</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Rendering.html">Rendering</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Â V-Ray_Frame_Buffer.html">&nbsp;V-Ray Frame Buffer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Global_Switches.html">Global Switches</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Image_Sampler_(Antialiasing).html">Image Sampler (Antialiasing)</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Indirect_Illumination_(GI).html">Indirect Illumination (GI)</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Brute_Force_GI.html">Brute Force GI</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Irradiance_Map.html">Irradiance Map</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Global_Photon_Map.html">Global Photon Map</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Light_Cache.html">Light Cache</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Caustics.html">Caustics</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Environment.html">Environment</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="DMC_Sampler.html">DMC Sampler</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Color_Mapping.html">Color Mapping</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Camera.html">Camera</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Default_Displacement.html">Default Displacement</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="System.html">System</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Presets.html">Presets</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Materials.html">Materials</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayMtl.html">VRayMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRay2SidedMtl.html">VRay2SidedMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayOverrideMtl.html">VRayOverrideMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayLightMtl.html">VRayLightMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayMtlWrapper.html">VRayMtlWrapper</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayFastSSS.html">VRayFastSSS</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayFastSSS2.html">VRayFastSSS2</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayBlendMtl.html">VRayBlendMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRaySimbiontMtl.html">VRaySimbiontMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayCarPaintMtl.html">VRayCarPaintMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayFlakesMtl.html">VRayFlakesMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayOSLMtl.html">VRayOSLMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayHairMtl.html">VRayHairMtl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayGLSLMtl.html">VRayGLSLMtl</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Textures.html">Textures</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRaySun_and_VRaySky.html">VRaySun and VRaySky</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayDirt.html">VRayDirt</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayColor.html">VRayColor</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayMap.html">VRayMap</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayHDRI.html">VRayHDRI</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayEdgesTex.html">VRayEdgesTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayBmpFilter.html">VRayBmpFilter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayCompTex.html">VRayCompTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayDistanceTex.html">VRayDistanceTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayGLSLTex.html">VRayGLSLTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayOSLTex.html">VRayOSLTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayMultiSubTex.html">VRayMultiSubTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayPtex.html">VRayPtex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayHairInfoTex.html">VRayHairInfoTex</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayColor2Bump.html">VRayColor2Bump</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRaySky.html">VRaySky</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRaySoftBox.html">VRaySoftBox</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Lighting.html">Lighting</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayLight.html">VRayLight</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRaySun.html">VRaySun</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayIES_light.html">VRayIES light</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayAmbientLight.html">VRayAmbientLight</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Geometry.html">Geometry</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayFur.html">VRayFur</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayProxy.html">VRayProxy</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayPlane.html">VRayPlane</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Miscellaneous_Plugins.html">Miscellaneous Plugins</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayShadow.html">VRayShadow</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayShadowMap.html">VRayShadowMap</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayDisplacementMod.html">VRayDisplacementMod</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayToon.html">VRayToon</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayEnvironmentFog.html">VRayEnvironmentFog</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayPhysicalCamera.html">VRayPhysicalCamera</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRaySphereFade.html">VRaySphereFade</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayStereoscopic.html">VRayStereoscopic</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayStereoRig.html">VRayStereoRig</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayLensEffects.html">VRayLensEffects</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayLightMeter.html">VRayLightMeter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayExposureControl.html">VRayExposureControl</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayBPTracer.html">VRayBPTracer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayOrnatrixMod.html">VRayOrnatrixMod</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VRayHairFarmMod.html">VRayHairFarmMod</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Object_and_Light_Properties.html">Object and Light Properties</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Distributed_Rendering.html">Distributed Rendering</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="GLSL_Support.html">GLSL Support</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="OSL_Support.html">OSL Support</a>

            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Tools.html">Tools</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Irradiance_Map_Viewer.html">Irradiance Map Viewer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href=".obj_and_.ply_to_.vrmesh_Converter_.html">.obj and .ply to .vrmesh Converter*</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href=".vrimg_to_.exr_Converter.html">.vrimg to .exr Converter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Image_to_Tiled_Multiresolution_OpenEXR_Converter.html">Image to Tiled Multiresolution OpenEXR Converter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="V-Ray_Scene_Exporter.html">V-Ray Scene Exporter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Lens_Analysis_Utility.html">Lens Analysis Utility</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Filter_Generator.html">Filter Generator</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Tutorials.html">Tutorials</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Irradiance_Map_Modes__Rendering_a_Static_Scene_from_Multiple_Views.html">Irradiance Map Modes: Rendering a Static Scene from Multiple Views</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Rendering_a_Walk-Through_Animation.html">Rendering a Walk-Through Animation</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Photon_Mapping.html">Photon Mapping</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Displacement_Mapping.html">Displacement Mapping</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Rendering_an_Interior_Scene.html">Rendering an Interior Scene</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Progressive_Path_Tracing_with_V-Ray.html">Progressive Path Tracing with V-Ray</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Rendering_Surface_Interfaces.html">Rendering Surface Interfaces</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link current" href="Rendering_an_Animation_with_Moving_Objects.html">Rendering an Animation with Moving Objects</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Rendering_an_Animation_with_Moving_Objects_II.html">Rendering an Animation with Moving Objects II</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Basic_Texture_Baking_with_V-Ray,_Part_I.html">Basic Texture Baking with V-Ray, Part I</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Universal_V-Ray_Settings.html">Universal V-Ray Settings</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Rendering_PTex_Textures_from_Mudbox.html">Rendering PTex Textures from Mudbox</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="Theory.html">Theory</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Raytracing_Overview.html">Raytracing Overview</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="GI_Methods.html">GI Methods</a>

            </li>
                            </ul>
            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Terminology.html">Terminology</a>

            </li>
                                                <li class="leaf">
        <a class="ht-nav-page-link" href="Frequently_Asked_Questions.html">Frequently Asked Questions</a>

            </li>
                                    </ul>
            </nav>
        </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="V-Ray_2.0_for_3ds_Max.html">V-Ray 2.0 for 3ds Max</a></li>
                                                                                     <li><a href="Tutorials.html">Tutorials</a></li>
                                                            </ul>
</div>            <h1 id="src-2557536"> <span>Rendering an Animation with Moving Objects</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <p  >    </p>
<ul class="toc-indentation "><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-RenderinganAnimationwithMovingObjectsOverview">Rendering an Animation with Moving Objects Overview</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-CompositingBasics">Compositing Basics</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-Compositingin3dsMaxCompositingin3dsMax">Compositing in 3ds Max</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-TheVRaySphereFadePluginAtmospheric">The VRaySphereFade Plugin Atmospheric</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-Workflow">Workflow</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-RenderingtheLayers">Rendering the Layers</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-FinalCompositing">Final Compositing</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-2557536_RenderinganAnimationwithMovingObjects-Conclusion">Conclusion</a>    </p>
</li></ul>    <p  >    <img  class="confluence-embedded-image image-center" src="images/download/attachments/2557536/TutAnimMov1_1.png" alt="images/download/attachments/2557536/TutAnimMov1_1.png"   />
        </p>
    <p  >    <span style="color: #000000;">
Note: the scene used for this tutorial was based on the Sponza Atrium scene, modeled by Marco Dabrovic (    </span>
<a  class="external-link" href="http://www.rna.hr/">http://www.rna.hr</a>    <span style="color: #000000;">
) and was one of the models for the     </span>
<a  class="external-link" href="http://hdri.cgtechniques.com/%7Esibenik2/">CGTechniques Radiosity competition</a>.    </p>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-RenderinganAnimationwithMovingObjectsOverview">
        <h1 class="heading "><span>Rendering an Animation with Moving Objects Overview</span></h1>
    <p  >    <span style="color: #000000;">
In this tutorial, we will render an animation with moving objects and GI with V-Ray. The goal is to make the process as efficient as possible. We can always use a high-quality GI solution to render an animation without any special tricks; however, this will typically take very long. We would like to optimize this process as much as possible.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Typically, we have a small number of moving objects (i.e. a few characters) in some more complex environment. Our main optimization idea uses this fact: we can split the animation into a background part and animation part.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Since the background does not move, we can render it using a walk-through animation method, for example, as pointed out in     </span>
<a  class="unresolved" href="#src-2557536">this tutorial</a>    <span style="color: #000000;">
. Then we can render out the moving objects, and composite these for the final animation.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-CompositingBasics">
        <h1 class="heading "><span>Compositing Basics</span></h1>
    <p  >    <span style="color: #000000;">
Before we go into details on rendering the animation, we will cover some compositing basics.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Our task is this: given an object in a 3d scene, we would like to composite it over a given background, taking into account as many effects as possible (shadows, reflections, GI etc).    </span>
    </p>
    <p  >    <span style="color: #000000;">
This is typically done with the help of two layers with the 3d object, which are then composited over the background. We will call one layer a mask layer, and it determines which parts of the background are altered by the 3d object, and which parts remain the same. The mask layer is multiplied by the background. We will call the second layer object layer, and it determines what color must be added to the masked background in order to get the final image. The object layer is added to the masked background.    </span>
    </p>
    <p  >    <span style="color: #000000;">
So, in general, the compositing formula is this:    </span>
    </p>
    <p  >    <span style="color: #000000;">
final_image = background_layer * mask_layer + object_layer    </span>
    </p>
    <p  >    <span style="color: #000000;">
Our background layer is given, and we don't have to worry about it. It may be a photograph, live footage, or a prerendered image. We must determine only the mask layer and the object layer. We will compute these using three separate renderings of the 3d object:    </span>
    </p>
<ul class=" "><li class=" ">    <p  >    <span style="color: #000000;">
a render without the object; we will call this &quot;pure&quot; render;    </span>
    </p>
</li><li class=" ">    <p  >    <span style="color: #000000;">
a render with the object, but with a perfectly black material applied to the object; we will call this &quot;black&quot; render;    </span>
    </p>
</li><li class=" ">    <p  >    <span style="color: #000000;">
a render with the object with a normal material; we will call this &quot;normal&quot; render.    </span>
    </p>
</li></ul>    <p  >    <span style="color: #000000;">
<br/>    </span>
    <span style="color: #000000;">
Given these three renders, we can compute the mask layer and the object layer in this way:    </span>
    </p>
    <p  >    <span style="color: #000000;">
mask_layer = black / pure;    </span>
    </p>
    <p  >    <span style="color: #000000;">
object_layer = normal - black;    </span>
    </p>
    <p  >    <span style="color: #000000;">
Then, we can use the mask and object layers to composite the final image.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-Compositingin3dsMaxCompositingin3dsMax">
        <h1 class="heading "><span id="src-2557536_RenderinganAnimationwithMovingObjects-Compositingin3dsMax" class="confluence-anchor-link"></span><span>Compositing in 3ds Max</span></h1>
    <p  >    <span style="color: #000000;">
Now, let us apply all this theory in practice. We will use 3ds Max for compositing, but this can be done in any compositing program that supports the necessary image operators (addition, difference, multiplication, and division) - for example,    </span>
     <span style="color: #000000;">
Digital    </span>
    <span style="color: #000000;">
 Fusion.    </span>
    </p>
    <p  >    <span style="color: #000000;">
U    </span>
    <span style="color: #000000;">
nfortunately, 3ds Max does not have the necessary compositing operators built-in, so we are going to use an additional plugin, the VRayCompTex texture map, which you can download    </span>
 <a  class="unresolved" href="#src-2557536">here</a>    <span style="color: #000000;">
 (extract the .dlt file in the\plugins\vrayplugins\ folder of 3dsmax).    </span>
    </p>
    <p  >    <span style="color: #000000;">
This is the background plate that we will use:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_2.png" alt="images/download/attachments/2557536/TutAnimMov1_2.png"   />
        </p>
    <p  >    <span style="color: #000000;">
We are going to add a teapot in the middle of this rendering.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.1. Open the starting scene, which can be found    </span>
 <a  class="unresolved" href="#src-2557536">here</a>.     <span style="color: #000000;">
The scene is not exactly the same as the one that was used for the background plate, but it is close enough for the composition. In general, you should try to match the plate as best as possible. If the background plate is a rendered 3d scene, then it would be best to use the same scene.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.2. Render the scene and save it as &quot;normal.png&quot; with 48 bits per pixel (for increased precision during the compositing later on).    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_3.png" alt="images/download/attachments/2557536/TutAnimMov1_3.png"   />
        </p>
    <p  >    <span style="color: #000000;">
1.3. Open the material editor, create a new VRayLightMtl and assign a pure black color to the material - or you can use the black mtl material in the ME. Apply the material to the teapot in the scene.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.4. Render the scene and save it as &quot;black.png&quot; with 48 bits per pixel (for increased precision).    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_4.png" alt="images/download/attachments/2557536/TutAnimMov1_4.png"   />
        </p>
    <p  >    <span style="color: #000000;">
1.5. Hide the teapot.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.6. Render the scene and save it as &quot;pure.png&quot; (again, with 48 bits per pixel).    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_5.png" alt="images/download/attachments/2557536/TutAnimMov1_5.png"   />
        </p>
    <p  >    <span style="color: #000000;">
This is all the work we have to do with the 3d scene. Now we are going to composite the final result.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.7. Open 3ds Max with an empty scene.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.8. Open the Material Editor and put the four images (normal.png, black.png, pure.png and the background) into four separate bitmap textures; set the mapping mode of the bitmaps to Screen environment.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Now we will create the mask and object layers.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.9. Create a VRayCompTex and name it object.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.10. Drag the normal bitmap onto the <strong class=" ">Source A</strong> bitmap slot in the VRayCompTex (choose the Instancemethod when prompted).    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.11. Drag the black bitmap onto the <strong class=" ">Source B</strong> bitmap slot in the VRayCompTex (again, choose the Instancemethod).    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.12. Set the <strong class=" ">Operator</strong> of the VRayCompTex to Difference. This is what you should get:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_6.png" alt="images/download/attachments/2557536/TutAnimMov1_6.png"   />
        </p>
    <p  >    <span style="color: #000000;">
Now we have our object layer. Next, we need to create the mask layer.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.13. Create a new VRayCompTex in an unused slot of the material editor and name it mask.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.14. Drag the black bitmap onto the <strong class=" ">Source A</strong> bitmap slot in the VRayCompTex (choose the Instance method when prompted).    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.15. Drag the pure bitmap onto the <strong class=" ">Source B</strong> bitmap slot in the VRayCompTex (again, choose the Instancemethod).    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.16. Set the <strong class=" ">Operator</strong> of the VRayCompTex to Divide. This is what you should get    </span>
:    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_7.png" alt="images/download/attachments/2557536/TutAnimMov1_7.png"   />
        </p>
    <p  >    <span style="color: #000000;">
Now we have the mask and object layers for the final compositing. We need to combine these with the background to get the final image.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.17. Create a new VRayCompTex in an unused slot of the material editor and name it &quot;masked bg&quot;.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.18. Drag and instance the mask texture into the <strong class=" ">Source A</strong> slot of the VRayCompTex map.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.19. Drag and instance the background bitmap into the <strong class=" ">Source B</strong> slot of the VRayCompTex map.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.20. Set the <strong class=" ">Operator</strong> of the VRayCompTex to Multiply.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Now that we have the masked background map, we need to add the object map to it.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.21. Create a new VRayCompTex in an unused slot of the material editor and name it &quot;final&quot;.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.22. Drag and instance the masked bg map into the <strong class=" ">Source A</strong> slot of the VRayCompTex.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.23. Drag and instance the object map into the <strong class=" ">Source B</strong> slot of the VRayCompTex.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.24. Set the <strong class=" ">Operator</strong> of the VRayCompTex to Add.    </span>
    </p>
    <p  >    <span style="color: #000000;">
This is our final composite texture map. Here is a schematic view of how we have connected the four input images:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_8.png" alt="images/download/attachments/2557536/TutAnimMov1_8.png"   />
        </p>
    <p  >    <span style="color: #000000;">
Now we need to render that map in order to get the final image.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.25. Open the <strong class=" ">Render scene</strong> dialogue and in the Common Tab set the resolution to 600x600 (the resolution of all our images in this section).    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.26. Set the current renderer to Default    </span>
     <span style="color: #000000;">
scanline.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.27. In the    </span>
     <span style="color: #000000;">
Renderer    </span>
    <span style="color: #000000;">
 tab, turn off the <strong class=" ">Antialiasing</strong> option.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.28. Turn off the <strong class=" ">Filter maps</strong> option.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.29. Open the <strong class=" ">Environment</strong> dialog and assign the final map as an environment map.    </span>
    </p>
    <p  >    <span style="color: #000000;">
1.30. Render the scene:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_9.png" alt="images/download/attachments/2557536/TutAnimMov1_9.png"   />
        </p>
    <p  ><a  class="unresolved" href="#src-2557536">Here</a>     <span style="color: #000000;">
is the final scene for the composite that you should get if you followed all the steps correctly.    </span>
    </p>
    <p  >    <span style="color: #000000;">
The beauty of using this method is that it can composite properly all effects (reflections, shadows, GI, etc.), without having to worry about any matte/shadow stuff or anything in 3dsmax.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-TheVRaySphereFadePluginAtmospheric">
        <h1 class="heading "><span>The VRaySphereFade Plugin Atmospheric</span></h1>
    <p  >    <span style="color: #000000;">
We will use the same workflow as defined above, to render our entire sequence. However, we have to render our animation three times. With more heavy scenes, this means a lot of rendering. The correct calculation of GI effects requires all of the scene geometry, so we can't just remove it to speed things up.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Most of the effects that we are interested in (shadows, reflections, GI) appear near the animated object in the scene. Ideally we would like to render only those parts, and skip re-rendering the entire image.    </span>
    </p>
    <p  >    <span style="color: #000000;">
This is where the VRaySphereFade atmospheric comes into play. It allows you to render only that part of the scene, which is located near the animated object. The rest of the scene is shown as a solid grey color. However GI, reflections, shadows, etc. are still computed using the entire scene, so that they produce the correct effect.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Here is how we would use the VRaySphereFade plugin in the scene from the previous part.    </span>
    </p>
    <p  >    <span style="color: #000000;">
2.1. Open the starting scene which can be found    </span>
 <a  class="unresolved" href="#src-2557536">here</a>.    </p>
    <p  >2.2. Open the Environment dialogue and add the VRaySphereFade atmospheric.    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_10.png" alt="images/download/attachments/2557536/TutAnimMov1_10.png"  height="250" />
        </p>
    <p  >    <span style="color: #000000;">
2.3. Create a spherical gizmo object around the teapot. Typically, you will surround each animated object with a gizmo linked to that object:    </span>
    </p>
    <p  >    <span style="color: #000000;">
2.4. Click the <strong class=" ">Pick</strong> button in the VRaySphereFade parameters and then click the newly created gizmo.    </span>
    </p>
    <p  >    <span style="color: #000000;">
2.5.    </span>
     <span style="color: #000000;">
Go    </span>
    <span style="color: #000000;">
 to the V-Ray System rollout and check the    </span>
     <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">Optimized atmospheric evaluation</a>    </span>
     <span style="color: #000000;">
option - this will speed up a lot the rendering of the areas masked by the atmospheric.    </span>
    </p>
    <p  >    <span style="color: #000000;">
2.6. Render the scene:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_11.png" alt="images/download/attachments/2557536/TutAnimMov1_11.png"   />
        </p>
    <p  >    <span style="color: #000000;">
You can see how only the parts of the scene inside the gizmo are visible to the    </span>
     <span style="color: #000000;">
camera.    </span>
    <span style="color: #000000;">
 Note the grey color - because we are computing our mask layer through division, it is not a good idea to have pure black colors in the &quot;normal&quot; image.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Proceed as in the previous step to create the pure, black, and normal renders, and to composite them onto the background. The result is this:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_12.png" alt="images/download/attachments/2557536/TutAnimMov1_12.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Normal layer    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_13.png" alt="images/download/attachments/2557536/TutAnimMov1_13.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Black layer    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_14.png" alt="images/download/attachments/2557536/TutAnimMov1_14.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Pure layer    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_15.png" alt="images/download/attachments/2557536/TutAnimMov1_15.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Object layer = Normal - Black    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_16.png" alt="images/download/attachments/2557536/TutAnimMov1_16.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Mask layer = Black / Pure    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_17.png" alt="images/download/attachments/2557536/TutAnimMov1_17.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Final composite over the background plate    </span>
    </p>
    <p  >    <span style="color: #000000;">
It is quite close to the result in the previous section, and it was a lot faster to calculate. Here are comparisons between the two composites that we got, as well as a rendering of the original scene with the teapot inside it:    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_18.png" alt="images/download/attachments/2557536/TutAnimMov1_18.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Original rendering of the scene with the teapot    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_19.png" alt="images/download/attachments/2557536/TutAnimMov1_19.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Full-scene compositing    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_20.png" alt="images/download/attachments/2557536/TutAnimMov1_20.png" width="350"  />
        </p>
    <p  >    <span style="color: #333399;">
Compositing with VRaySphereFade    </span>
    </p>
    <p  >    <span style="color: #000000;">
Using the VRaySphereFade plugin, we can control how much an object will affect its surroundings. For GI effects, it is usually enough to limit the influence not far away from the object. However, some effects (like long shadows, or reflections on surfaces at grazing angles) may require larger spheres of influence. An alternative in that case would be to add more gizmos to capture those effects, or to render them in a separate pass and composite them separately.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-Workflow">
        <h1 class="heading "><span>Workflow</span></h1>
    <p  >    <span style="color: #000000;">
Now we have all the necessary information to render our animation. This is done in 4 steps:    </span>
    </p>
    <p  >    <span style="color: #000000;">
a) Render the background as a walk-through animation, without the animated objects.    </span>
    </p>
    <p  >    <span style="color: #000000;">
b) Create and link gizmos to the animated objects, create a VRaySphereFade atmospheric and add those gizmos to the atmospheric.    </span>
    </p>
    <p  >    <span style="color: #000000;">
c) Render the animation with the moving objects normal, black, and hidden respectively into three separate animations.    </span>
    </p>
    <p  >    <span style="color: #000000;">
d) Composite the background animation out of the four other animations.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-RenderingtheLayers">
        <h1 class="heading navTitle"><span>Rendering the Layers</span></h1>
    <p  >    <span style="color: #000000;">
a) First, we need to render the background template which will serve as a basis on the moving characters. We will do this similarly to how it is described in the    </span>
 <a  class="unresolved" href="#src-2557536">Walk-through animation tutorial</a>    <span style="color: #000000;">
. We will calculate the light cache first.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.1. Open the starting background    </span>
 <a  class="unresolved" href="#src-2557536">scene</a>.    </p>
    <p  >    <span style="color: #000000;">
We have rendered all animations at a resolution of 900 x 500 pixels. This may take quite a while (it took more than two days to render the three character animations when preparing this tutorial), so you may want to use lower resolution, for example, 450 x 250.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.1a. In the Common tab of the Render scene dialogue, set the rendering resolution to 450 x 250 pixels.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.2. Turn off     </span>
    <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">Default lights</a>    </span>
    <span style="color: #000000;">
 in the Global switches rollout.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.3. Set the Antialiasing to     </span>
<a  class="unresolved" href="#src-2557536">Adaptive DMC</a>     <span style="color: #000000;">
with the default settings of 1/4.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.4. Turn on     </span>
    <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">GI</a>    </span>
     <span style="color: #000000;">
and set the primary and secondary engines to Light cache.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.5. Set the    </span>
 <a  class="unresolved" href="#src-2557536">light cache</a>     <span style="color: #000000;">
Subdivs to 4000, Sample size to 4.0 and Scale to World.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.6. Switch the light cache Mode to Fly-through and for display purposes turn on    </span>
     <span style="color: #000000;">
Show c    </span>
    <span style="color: #000000;">
alc    </span>
.    <span style="color: #000000;">
 phase.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.7. Turn on Use light cache for glossy rays and set Interp. samples to 5.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.8. In the GI Environment group of the    </span>
 <a  class="unresolved" href="#src-2557536">Environment</a>     <span style="color: #000000;">
rollout, turn on the Override MAX's option and set the Multiplier to 2.0.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.9. Render any frame of the animation to calculate the light cache.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.10. Save the light cache and change the Mode to From file with the just saved file.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Once we have the light cache ready, we need to calculate the irradiance map.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.11. Change the <strong class=" ">Primary GI</strong> engine to Irradiance map with High preset.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.12. Set the    </span>
     <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">Noise threshold</a>    </span>
     <span style="color: #000000;">
in the DMC Sampler rollout to 0.002.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.13. Turn on the    </span>
     <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">Don't render final image</a>    </span>
    <span style="color: #000000;">
 option in the Global switches rollout.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.13. Set the irradiance map    </span>
     <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">Mode</a>    </span>
    <span style="color: #000000;">
 to Multiframe incremental.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.14. Render every 10th frame of the animation to calculate the irradiance map.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.15. Change the irradiance map Mode to From file with the just saved file.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.16. Turn off the Don't render final image in the Global switches rollout.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.17. Render every 1st frame of the final background animation with the saved GI solutions and save the animation as a 48bit .png sequence.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/image2014-2-21_23-33-21.png" alt="images/download/attachments/2557536/image2014-2-21_23-33-21.png"   />
        </p>
    <p  >    <span style="color: #000000;">
Now we have a ready background template that will be populated with the moving objects.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Here is the    </span>
 <a  class="unresolved" href="#src-2557536">end scene</a><a  class="unresolved" href="#src-2557536">&nbsp;</a>    <span style="color: #000000;">
for stage a).    </span>
    </p>
    <p  >    <span style="color: #000000;">
b) Now we will use sphere gizmos and VRaySphereFade atmospheric to isolate the moving objects in the scene, so we can composite them later with the ready background.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.18. Continue with the background scene from part a) and unhide the four biped characters in the scene.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_22.png" alt="images/download/attachments/2557536/TutAnimMov1_22.png"  height="250" />
        </p>
    <p  >    <span style="color: #000000;">
3.19.     <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_23.png" alt="images/download/attachments/2557536/TutAnimMov1_23.png"   />
     <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_24.png" alt="images/download/attachments/2557536/TutAnimMov1_24.png"   />
 Create four sphere gizmos with radius of about 80.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_25.png" alt="images/download/attachments/2557536/TutAnimMov1_25.png"   />
        </p>
    <p  >    <span style="color: #000000;">
3.20.     <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_26.png" alt="images/download/attachments/2557536/TutAnimMov1_26.png"   />
 Align each of them to each Biped COM object (Bip01, Bip02, Bip03, Bip04).    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_27.png" alt="images/download/attachments/2557536/TutAnimMov1_27.png"  height="250" />
        </p>
    <p  >    <span style="color: #000000;">
3.21. Open the Environment dialogue and add the VRaySphereFade atmospheric.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.22. Add the four gizmos in the list.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_28.png" alt="images/download/attachments/2557536/TutAnimMov1_28.png"   />
        </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_29.png" alt="images/download/attachments/2557536/TutAnimMov1_29.png"  height="250" />
        </p>
    <p  >    <span style="color: #000000;">
Here is the    </span>
 <a  class="unresolved" href="#src-2557536">end scene</a>    <span style="color: #000000;">
 after the gizmos setup.    </span>
    </p>
    <p  >    <span style="color: #000000;">
c) For the rendering of the three animations we will use brute force GI as a primary GI engine to avoid flickering problems on and around the characters.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.23. Change the <strong class=" ">Primary GI</strong> engine to Brute force GI with 25 subdivs.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.24. Change the light cache <strong class=" ">Subdivs</strong> to 3000.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.25. Change the light cache <strong class=" ">Mode</strong> to Single frame.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/image2014-2-21_23-35-44.png" alt="images/download/attachments/2557536/image2014-2-21_23-35-44.png"   />
        </p>
    <p  >    <span style="color: #000000;">
3.26. Go to the System rollout and turn on the    </span>
     <span style="color: #5555cc;">
<a  class="unresolved" href="#src-2557536">Optimized atmospheric evaluation</a>    </span>
    <span style="color: #000000;">
 option - this will accelerate the calculation considerably.    </span>
    </p>
    <p  >    <span style="color: #000000;">
First, we will render the normal animation.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.27. Render the whole sequence to 48-bit .png files.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_31.png" alt="images/download/attachments/2557536/TutAnimMov1_31.png"  height="250" />
        </p>
    <p  >    <span style="color: #333399;">
Frame 145    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_32.png" alt="images/download/attachments/2557536/TutAnimMov1_32.png"  height="250" />
        </p>
    <p  >    <span style="color: #333399;">
Frame 268    </span>
    </p>
    <p  >    <span style="color: #000000;">
Second, we will render the black animation.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.28. Apply a black VRayLight material to the four biped characters and render the entire sequence to 48-bit .png files.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_33.png" alt="images/download/attachments/2557536/TutAnimMov1_33.png" width="500"  />
        </p>
    <p  >    <span style="color: #333399;">
Frame 145    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_34.png" alt="images/download/attachments/2557536/TutAnimMov1_34.png"  height="250" />
        </p>
    <p  >    <span style="color: #333399;">
Frame 268    </span>
    </p>
    <p  >    <span style="color: #000000;">
Third, we will render the pure animation.    </span>
    </p>
    <p  >    <span style="color: #000000;">
3.29. Hide all the biped characters and render the whole sequence again.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_35.png" alt="images/download/attachments/2557536/TutAnimMov1_35.png"  height="250" />
        </p>
    <p  >    <span style="color: #333399;">
Frame 145    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_36.png" alt="images/download/attachments/2557536/TutAnimMov1_36.png"  height="250" />
        </p>
    <p  >    <span style="color: #333399;">
Frame 268    </span>
    </p>
    <p  >    <span style="color: #000000;">
Now we have all the necessary animations to composite the final animation.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-FinalCompositing">
        <h1 class="heading navTitle"><span>Final Compositing</span></h1>
    <p  >    <span style="color: #000000;">
In this part, we will amalgamate the normal, black, and pure animations with the help of the VRCompTex map.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.1. Open a new scene in 3ds Max and open the Material editor.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.2.     <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_37.png" alt="images/download/attachments/2557536/TutAnimMov1_37.png"   />
 Load the normal, black, and pure animation sequences in three different slots and name them &quot;normal&quot;, &quot;black&quot;, and &quot;pure&quot;.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.3. Also, load the background animation that we rendered before.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.3. Change the display type of all four textures to Environment with Screen mapping.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_38.png" alt="images/download/attachments/2557536/TutAnimMov1_38.png"   />
        </p>
    <p  >    <span style="color: #000000;">
4.4.     <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_39.png" alt="images/download/attachments/2557536/TutAnimMov1_39.png"   />
 Make four VRayCompTex maps into four unused slots.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.5. Drag-drop the normal map into <strong class=" ">Source A</strong>, the black map into<strong class=" "> Source B</strong>, change <strong class=" ">Operator</strong> to Subtract in the first VRayCompTex map and name it object.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.6. Drag-drop the black map into <strong class=" ">Source A</strong>, the pure map into <strong class=" ">Source B</strong>, change <strong class=" ">Operator</strong> to Divide in the second VRayCompTex map and name it mask.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.7. Drag-drop the mask map into <strong class=" ">Source A</strong>, the background map into <strong class=" ">Source B</strong>, change <strong class=" ">Operator</strong> to Multiply in the third VRayCompTex map and name it masked bg.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.8. Drag-drop the masked bg map into <strong class=" ">Source A</strong>, the object map into <strong class=" ">Source B</strong>, change <strong class=" ">Operator</strong> to Add in the fourth VRayCompTex map and name it final.    </span>
    </p>
    <p  >    <span style="color: #000000;">
We have just followed the scheme that we described earlier in the    </span>
 <a   href="#src-2557536_RenderinganAnimationwithMovingObjects-Compositingwith3dsMax">Compositing with 3ds Max</a>    <span style="color: #000000;">
 section.    </span>
    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_40.png" alt="images/download/attachments/2557536/TutAnimMov1_40.png"   />
        </p>
    <p  >    <span style="color: #000000;">
4.9. Drag-drop the final map into the <strong class=" ">Environment map</strong> slot of the Environment dialogue of 3ds Max.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.10. Change the renderer to Scanline.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.11. In the Renderer Tab of the Render scene dialogue, switch off <strong class=" ">Antialiasing</strong> and <strong class=" ">Filter Maps</strong>.    </span>
    </p>
    <p  >    <span style="color: #000000;">
4.12. Render the final animation.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Here is the    </span>
 <a  class="unresolved" href="#src-2557536">compositing scene</a>.    </p>
    <p  ><a   href="attachments_4423804_1_final_large_best.avi">Here is a link</a>    <span style="color: #000000;">
 to the final rendered animation at the original 900x500 resolution (5 MB), and    </span>
 <a   href="attachments_4423804_1_final_large_best.avi">here is a link</a>    <span style="color: #000000;">
 to a smaller version (2 MB). You can also view the low res video below. Note they only play in certain browsers.    </span>
Your browser does not support the HTML5 video element    </p>
    <p  >    </p>
    <p  >Let us look at one frame of the animation:    </p>
    <p  >    <img  class="confluence-embedded-image" src="images/download/attachments/2557536/TutAnimMov1_41.png" alt="images/download/attachments/2557536/TutAnimMov1_41.png"   />
        </p>
    <p  >    <span style="color: #000000;">
You can notice that the character shadow for the metallic biped is cut off where its sphere gizmo ends. This is because we used somewhat smaller gizmos when we rendered the animation, in order to save render time. To make the full shadow visible, you can either enlarge the gizmo for that character, or use another gizmo near the ground, specifically for the purpose of capturing the shadow. If we have lights that cast long shadows, or the shadows are far away from the object that casts them, it might be better to render the shadows in a separate pass and composite them additionally. The same is true for reflections of the animated objects.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-2557536_RenderinganAnimationwithMovingObjects-Conclusion">
        <h1 class="heading "><span>Conclusion</span></h1>
    <p  >    <span style="color: #000000;">
We did a lot of extra work to render out our animation - setting up gizmos, rendering four different animations and compositing them. Why was this necessary and do we really have to go through all these troubles to render any animation?    </span>
    </p>
    <p  >    <span style="color: #000000;">
If we are going to composite the animation against live-action footage, then we don't really have a choice other than to use compositing, in which case there is no way around rendering all the different passes.    </span>
    </p>
    <p  >    <span style="color: #000000;">
However, when we are rendering a fully CG animation, the only thing that we save is render time - which is the single point of the whole exercise. Of course, if we had a large render farm then we could have simply rendered out each frame of the animation as it is, with high enough settings to obtain a stable GI solution from frame to frame. If the scene environment is simple enough, this would be the best and fastest thing to do. However, if we don't have a render farm or the scene is quite detailed, then we can drastically reduce the render times by avoiding re-rendering of the entire scene's background just because we have one or two moving characters in there.    </span>
    </p>
    <p  >    </p>
    <p  >    </p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Rendering_Surface_Interfaces.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Rendering Surface Interfaces</span>
        </a>
                <a href="Rendering_an_Animation_with_Moving_Objects_II.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Rendering an Animation with Moving Objects II</span>
        </a>
    </nav>    
            
            <article id="html-search-results" class="ht-content" style="display: none;">
            <header class="ht-content-header">
                <div id="ht-spacetitle">
                    <ul>
                        <li><a href="V-Ray_2.0_for_3ds_Max.html">V-Ray 2.0 for 3ds Max</a></li>
                    </ul>
                </div>
                <h1>Search results</h1>
            </header>
            <div id="search-results"></div>
        </article>
    
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
